
$j("#study_sharing").html("")
$j("#investigation_sharing").html("")

<% if @study != nil %>
   $j("#std-title span").html("<%= @study.title %>")
   $j("#std-description span").html("<%= @study.description %>")
   $j("#experimentalists span").html("<%= @study.experimentalists %>")
   $j("#study_sharing").html("<%= escape_javascript(render partial: 'sharing/form', locals: { object: @study } ) %>");
   let creator_ids = <%=(@study.try(:creators)).map { |n| n.id }%>
   $j("#std-creators").empty()
   for (const id in creator_ids){
      $j("#std-creators").append(`<input type="hidden" value="${creator_ids[id]}" name="study[creator_ids][]">`)
   }
   

<%elsif @investigation != nil%>
   $j("#inv-title span").html("<%= @investigation.title %>")
   $j("#inv-description span").html("<%= @investigation.description %>")
   $j("#investigation_sharing").html("<%= escape_javascript(render partial: 'sharing/form', locals: { object: @investigation } ) %>");
   let creator_ids = <%=(@investigation.try(:creators)).map { |n| n.id }%>
   $j("#inv-creators").empty()
   for (const id in creator_ids){
      $j("#inv-creators").append(`<input type="hidden" value="${creator_ids[id]}" name="investigation[creator_ids][]">`)
   }
<% end %>

loadObjectInputs()
